
Install root , if not present:Install root in linux:
sudo apt install root-system-bin

Install Curl:

sudo apt-get install curl


Prereq in one script:

curl -O https://hyperledger.github.io/composer/prereqs-ubuntu.sh

chmod u+x prereqs-ubuntu.sh


./prereqs-ubuntu.sh


it will install:

    Docker Engine: Version 17.03 or higher
    Docker-Compose: Version 1.8 or higher
    Node: 8.9 or higher (note version 9 is not supported)
    npm: v5.x
    git: 2.9.x or higher
    Python: 2.7.x
    A code editor of your choice, we recommend VSCode.


logout and login again

Install:

npm install -g composer-cli

npm install -g composer-rest-server


npm install -g generator-hyperledger-composer

npm install -g yo


mkdir ~/fabric-tools && cd ~/fabric-tools

curl -O https://raw.githubusercontent.com/hyperledger/composer-tools/master/packages/fabric-dev-servers/fabric-dev-servers.zip
unzip fabric-dev-servers.zip

Use the scripts you just downloaded and extracted to download a local Hyperledger Fabric runtime:

sudo -s
Give password

cd ~/fabric-tools
./downloadFabric.sh


    cd ~/fabric-tools
    ./startFabric.sh
    ./createPeerAdminCard.sh


Download trading network files from:
https://github.com/arinddas/Blockchain-Workshop/blob/master/trading-network.zip

extract it and copy the files under fabric-tools folder



go to trading-network folder via console 

composer archive create -t dir -n .  <look at last dot> 


composer runtime install --card PeerAdmin@hlfv1 --businessNetworkName trading-network

check 
composer card list
if admin card exists then delete using the following command
composer card delete -n admin@trading-network

(if card already exists then it will remove)

composer network start --card PeerAdmin@hlfv1 --networkAdmin admin --networkAdminEnrollSecret adminpw --archiveFile trading-network@0.0.1.bna --file networkadmin.card


composer card import --file networkadmin.card


composer network ping --card admin@trading-network

To generate Rest server
composer-rest-server
never use namespaces
admin@trading-network

or

To generate Rest server plus Angualr Application
generate a sample application
sudo chown -R [user] ~/.config
sudo chown -R [user] ~/.composer
chmod 777 .composer/ (first try without it)
yo hyperledger-composer


Tips:

To restart the REST server using the same options, issue the following command:
   composer-rest-server -c admin@trading-network -n always

To stop the containers before closing the machine.
docker stop $(docker ps -a -q)

If any locking problem then use:
sudo rm /var/lib/apt/lists/lock














